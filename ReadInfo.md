# Subgraph For NFT Marketplace

It will help us to index the Blockchain Event data and store on distributed storage (off-chain) which will help us process data website more fast and less cost.

```
URL: https://thegraph.com/
```

1. Offer related Information ( Create offer , with draw offer , delete ,accept).
2. Some one buy NFT.
3. New Item Listed in MarketPlace.

It will get all this information from real-time from Ethereum Event. Whenever User do transaction on NFT contract it will emit and event with some important data which we can show them on UI.

## Schema

It is very important file which carry all the graphql database structure which help as to define what data will be store into subgraph.

```
type Approval @entity {
  id: ID!                        # this will be unique id of the object
  owner: Bytes!                  # data come from the event
  approved: Bytes!               # value which tell whom you all to approve to access you NFT
  tokenId: BigInt!               # NFT ID
}
```

Like this we have simple structure when ever we approval on NFT it will emit event and we will store the data into subgraph

## Subgraph

This `subgraph.yaml` is one of the most important file which contain information about the All the smart contract details like address of contract, event and their parametrs

```
      startBlock: 11373530 # it will be one less then the contract deployed on-chain

```

This is most important field in this file which you have to add first time to which define from where subgraph will start index the data, if you didn't define it, start from block zero and will take days to sync and index the data.

## Event logic Files

Once we define the our configraution it is time to write logic on it, Like when new offer create the old offer user will notifiy the something change and get notification on UI your Offer to buy X NFT was overcome by other new offer.
`/src/*`

It is folder which contain all the logic of what happend when anynew event occur on over smart contract

## Generated

`/generated` this is autogenerated folder from ABI and schema don't change it directly
